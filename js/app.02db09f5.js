(function(t){function e(e){for(var n,s,o=e[0],c=e[1],l=e[2],f=0,_=[];f<o.length;f++)s=o[f],a[s]&&_.push(a[s][0]),a[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(_.length)_.shift()();return i.push.apply(i,l||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],n=!0,o=1;o<r.length;o++){var c=r[o];0!==a[c]&&(n=!1)}n&&(i.splice(e--,1),t=s(s.s=r[0]))}return t}var n={},a={app:0},i=[];function s(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=t,s.c=n,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(r,n,function(e){return t[e]}.bind(null,n));return r},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/tetris-game-with-vue/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;i.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"56d7":function(t,e,r){"use strict";r.r(e);r("744f"),r("6c7b"),r("7514"),r("20d6"),r("1c4c"),r("6762"),r("cadf"),r("e804"),r("55dd"),r("d04f"),r("c8ce"),r("217b"),r("7f7f"),r("f400"),r("7f25"),r("536b"),r("d9ab"),r("f9ab"),r("32d7"),r("25c9"),r("9f3c"),r("042e"),r("c7c6"),r("f4ff"),r("049f"),r("7872"),r("a69f"),r("0b21"),r("6c1a"),r("c7c62"),r("84b4"),r("c5f6"),r("2e37"),r("fca0"),r("7cdf"),r("ee1d"),r("b1b1"),r("87f3"),r("9278"),r("5df2"),r("04ff"),r("f751"),r("4504"),r("fee7"),r("ffc1"),r("0d6d"),r("9986"),r("8e6e"),r("25db"),r("e4f7"),r("b9a1"),r("64d5"),r("9aea"),r("db97"),r("66c8"),r("57f0"),r("165b"),r("456d"),r("cf6a"),r("fd24"),r("8615"),r("551c"),r("097d"),r("df1b"),r("2397"),r("88ca"),r("ba16"),r("d185"),r("ebde"),r("2d34"),r("f6b3"),r("2251"),r("c698"),r("a19f"),r("9253"),r("9275"),r("3b2b"),r("3846"),r("4917"),r("a481"),r("28a5"),r("386d"),r("6b54"),r("4f7f"),r("8a81"),r("ac4d"),r("8449"),r("9c86"),r("fa83"),r("48c0"),r("a032"),r("aef6"),r("d263"),r("6c37"),r("9ec8"),r("5695"),r("2fdb"),r("d0b0"),r("5df3"),r("b54a"),r("f576"),r("ed50"),r("788d"),r("14b9"),r("f386"),r("f559"),r("1448"),r("673e"),r("242a"),r("c66f"),r("b05c"),r("34ef"),r("6aa2"),r("15ac"),r("af56"),r("b6e4"),r("9c29"),r("63d9"),r("4dda"),r("10ad"),r("c02b"),r("4795"),r("130f"),r("ac6a"),r("96cf");var n=r("2b0e"),a=r("ce5b"),i=r.n(a);r("bf40");n["default"].use(i.a,{customProperties:!0,iconfont:"mdi"});var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",[r("tetris"),r("snack-bar")],1)},o=[],c=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"wrapper"},[r("div",{staticClass:"tetris-wrapper"},[r("div",{staticClass:"tetris"},[t._l(t.arena,function(e,n){return r("div",{key:n,staticClass:"tetris-row"},t._l(e,function(t,e){return r("div",{key:e,class:["tetris-column",{active:t}]},[r("div",{staticClass:"tetris-cell"})])}),0)}),r("transition",{attrs:{name:"increase-height",mode:"out-in"}},[t.game_over?r("div",{staticClass:"game-over"},[t._v("\n\t\t\t\t\tGame Over\n\n\t\t\t\t\t"),r("div",{staticClass:"your-score"},[t._v("\n\t\t\t\t\t\tYour score is "+t._s(t.total_score)+"\n\t\t\t\t\t")]),r("div",{staticClass:"score-actions"},[r("v-btn",{attrs:{large:"",outline:"",dark:""},on:{click:function(e){t.start_new_game()}}},[t._v("\n\t\t\t\t\t\t\tStart new game\n\t\t\t\t\t\t")]),t.can_save_score&&!t.save_score_dialog?[t._v("\n\t\t\t\t\t\t\tor\n\t\t\t\t\t\t\t"),r("v-btn",{attrs:{large:"",outline:"",dark:""},on:{click:function(e){t.save_score_dialog=!0}}},[t._v("\n\t\t\t\t\t\t\t\tRegister in top 10\n\t\t\t\t\t\t\t")])]:t._e()],2),r("save-score-dialog",{ref:"dialog",attrs:{open:t.save_score_dialog,score:t.total_score,users:t.top_users},on:{"update:open":function(e){t.save_score_dialog=e},"save-user":t.save_user}})],1):t._e()]),t.game_over||t.game_started?t._e():r("play-info")],2)]),r("div",{staticClass:"game-controls"},[r("div",{staticClass:"score"},[t._v("\n\t\t\tTOTAL SCORE: "+t._s(t.total_score)+"\n\t\t")]),t.game_started?t._e():r("v-btn",{attrs:{block:"",large:""},on:{click:function(e){t.start_new_game()}}},[t._v("START\n\t\t\tNEW GAME\n\t\t")]),r("top-users",{attrs:{"top-users":t.top_users,loading:t.loading}})],1)])},l=[],u=r("a34a"),f=r.n(u),_=[{type:"T",value:[[0,0,0,2,2,2,0,0,0],[0,0,0,0,2,0,0,0,0]],rows_count:2,matrix:[[2,2,2],[0,2,0]],starts:3,expands:3,rotated:!1,is_rotatable:!0},{type:"Z",value:[[0,0,0,2,2,0,0,0,0],[0,0,0,0,2,2,0,0,0]],rows_count:2,matrix:[[2,2,0],[0,2,2]],starts:3,expands:3,rotated:!1,is_rotatable:!0},{type:"S",value:[[0,0,0,0,2,2,0,0,0],[0,0,0,2,2,0,0,0,0]],rows_count:2,matrix:[[0,2,2],[2,2,0]],starts:3,expands:3,rotated:!1,is_rotatable:!0},{type:"I",value:[[0,0,0,0,2,0,0,0,0],[0,0,0,0,2,0,0,0,0],[0,0,0,0,2,0,0,0,0]],rows_count:3,matrix:[[0,2,0],[0,2,0],[0,2,0]],starts:4,expands:1,rotated:!1,is_rotatable:!0},{type:"IH",value:[[0,0,0,2,2,2,0,0,0]],rows_count:1,matrix:[[0,0,0],[2,2,2],[0,0,0]],starts:3,expands:3,rotated:!1,is_rotatable:!0},{type:"O",value:[[0,0,0,0,2,2,0,0,0],[0,0,0,0,2,2,0,0,0]],rows_count:2,matrix:[[0,2,2],[0,2,2]],starts:4,expands:2,rotated:!1,is_rotatable:!1},{type:"L",value:[[0,0,0,2,0,0,0,0,0],[0,0,0,2,0,0,0,0,0],[0,0,0,2,2,0,0,0,0]],rows_count:3,matrix:[[2,0,0],[2,0,0],[2,2,0]],starts:3,expands:2,rotated:!1,is_rotatable:!0}],v=r("0644"),p=r.n(v),d=r("59ca"),m=r.n(d),h=(r("e71f"),{apiKey:"AIzaSyAR0ymUYwrhk86NTVtTcuhHjQLIWZfUQfw",authDomain:"vue-simple-tetris.firebaseapp.com",databaseURL:"https://vue-simple-tetris.firebaseio.com",projectId:"vue-simple-tetris",storageBucket:"vue-simple-tetris.appspot.com",messagingSenderId:"923999047218"});m.a.initializeApp(h);var g=m.a.firestore();g.settings({timestampsInSnapshots:!0});var b=g,w=new n["default"],y=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-expansion-panel",{staticClass:"top-users"},[r("v-expansion-panel-content",[r("div",{attrs:{slot:"header"},slot:"header"},[t.loading?r("v-progress-linear",{attrs:{indeterminate:!0}}):t.topUsers.length||t.loading?r("span",[t._v("Top Users")]):r("span",[t._v("No Top Users Yet")])],1),r("v-card",[r("v-card-text",t._l(t.topUsers,function(e,n){return r("div",{key:e.id,staticClass:"user"},[r("span",[t._v(t._s(n+1))]),r("span",[t._v(t._s(e.nickname))]),r("span",[t._v(t._s(e.score))])])}),0)],1)],1)],1)},x=[],k={props:{topUsers:Array,loading:Boolean}},O=k,j=(r("affa"),r("2877")),S=Object(j["a"])(O,y,x,!1,null,"340efc42",null);S.options.__file="TopUsers.vue";var A=S.exports,T=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-layout",{attrs:{row:"","justify-center":""}},[r("v-dialog",{attrs:{persistent:"","max-width":"800px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[r("v-card",[r("v-card-title",[r("h3",[t._v("Congrats!! You are in top 10")]),r("v-spacer"),r("h3",[t._v("Your score is "+t._s(t.score))])],1),r("v-card-text",[r("div",{staticClass:"save-top-user"},[r("v-stepper",{attrs:{vertical:""},model:{value:t.stepper,callback:function(e){t.stepper=e},expression:"stepper"}},[r("v-stepper-step",{attrs:{complete:t.stepper>1,step:"1"}},[r("h3",[t._v("Do you want to save your score in TOP 10?")])]),r("v-stepper-content",{attrs:{step:"1"}},[r("v-btn",{attrs:{color:"primary"},on:{click:function(e){t.stepper=2}}},[t._v("\n\t\t\t\t\t\t\t\tContinue\n\t\t\t\t\t\t\t")]),r("v-btn",{attrs:{flat:""},on:{click:t.close_dialog}},[t._v(" Cancel")])],1),r("v-stepper-step",{attrs:{step:"2"}},[r("h3",[t._v("Add details")])]),r("v-stepper-content",{attrs:{step:"2"}},[r("details-form",{ref:"form",attrs:{users:t.users},on:{"save-user":t.save_user}}),r("v-btn",{attrs:{color:"primary"},on:{click:t.validate_form}},[t._v("\n\t\t\t\t\t\t\t\tSave\n\t\t\t\t\t\t\t")]),r("v-btn",{attrs:{flat:""},on:{click:t.close_dialog}},[t._v("Cancel")])],1)],1)],1)])],1)],1)],1)},$=[],C=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",[r("v-card-title",[r("h3",[t._v("Register in TOP 10")])]),r("v-card-text",[r("v-form",{ref:"form"},[r("v-container",[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",md6:""}},[r("v-text-field",{attrs:{label:"First Name",placeholder:"optional","prepend-icon":"mdi-account"},model:{value:t.form.first_name,callback:function(e){t.$set(t.form,"first_name","string"===typeof e?e.trim():e)},expression:"form.first_name"}})],1),r("v-flex",{attrs:{xs12:"",md6:""}},[r("v-text-field",{attrs:{label:"Last Name",placeholder:"optional","prepend-icon":"mdi-account"},model:{value:t.form.last_name,callback:function(e){t.$set(t.form,"last_name","string"===typeof e?e.trim():e)},expression:"form.last_name"}})],1),r("v-flex",{attrs:{xs12:"",md6:""}},[r("v-text-field",{attrs:{label:"Email",placeholder:"optional","prepend-icon":"mdi-email",rules:[t.rules.email]},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email","string"===typeof e?e.trim():e)},expression:"form.email"}})],1),r("v-flex",{attrs:{xs12:"",md6:""}},[r("v-text-field",{attrs:{label:"Nickname",placeholder:"required","prepend-icon":"mdi-account-heart",rules:[t.rules.required,t.rules.unique]},model:{value:t.form.nickname,callback:function(e){t.$set(t.form,"nickname","string"===typeof e?e.trim():e)},expression:"form.nickname"}})],1)],1)],1)],1)],1)],1)},P=[],E={props:{users:Array},data:function(){return{valid:!1,form:{first_name:"",last_name:"",email:"",nickname:""}}},computed:{rules:function(){var t=this;return{required:function(t){return!!t||"Required."},email:function(t){if(!t)return!0;var e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)||"Invalid e-mail."},unique:function(e){return!e||(!t.users.length||(!t.users.find(function(t){return t.nickname===e})||"Already taken"))}}}},methods:{validate:function(){this.$refs.form.validate()&&this.$emit("save-user",Object.assign({},this.form))}}},I=E,U=Object(j["a"])(I,C,P,!1,null,"53552c56",null);U.options.__file="DetailsForm.vue";var M=U.exports,D={components:{DetailsForm:M},props:{open:Boolean,score:Number,users:Array},data:function(){return{dialog:!1,stepper:1}},watch:{open:function(t){this.dialog=t}},methods:{close_dialog:function(){this.$emit("update:open",!1)},validate_form:function(){this.$refs.form.validate()},save_user:function(t){t.score=this.score,this.$emit("save-user",t),this.dialog=!1}}},L=D,R=Object(j["a"])(L,T,$,!1,null,null,null);R.options.__file="SaveScoreDialog.vue";var q=R.exports,N=function(t,e){e._c;return e._m(0)},z=[function(t,e){var r=e._c;return r("div",{staticClass:"play-info"},[r("h2",[e._v("How to play")]),r("span",[r("code",[e._v("↑")]),e._v(" : Rotate tetris")]),r("span",[r("code",[e._v("→")]),e._v(" : Move tetris to the right")]),r("span",[r("code",[e._v("↓")]),e._v(" : Move tetris to the bottom faster")]),r("span",[r("code",[e._v("←")]),e._v(" : Move tetris to the left")])])}],B=(r("d0fc"),{}),Y=Object(j["a"])(B,N,z,!0,null,"e3808010",null);Y.options.__file="PlayInfo.vue";var Z=Y.exports;function F(t,e,r,n,a,i,s){try{var o=t[i](s),c=o.value}catch(l){return void r(l)}o.done?e(c):Promise.resolve(c).then(n,a)}function H(t){return function(){var e=this,r=arguments;return new Promise(function(n,a){var i=t.apply(e,r);function s(t){F(i,n,a,s,o,"next",t)}function o(t){F(i,n,a,s,o,"throw",t)}s(void 0)})}}function G(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),n.forEach(function(e){J(t,e,r[e])})}return t}function J(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Q(t){return V(t)||K(t)||W()}function W(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function K(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function V(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}var X={name:"Tetris",components:{TopUsers:A,SaveScoreDialog:q,PlayInfo:Z},data:function(){return{arena:[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]],new_tetris_item:null,new_tetris_position:0,game_interval:null,tetris_before_rotation:null,score_for_row:10,total_score:0,game_over:!1,game_started:!1,top_users:[],save_score_dialog:!1,score_submitted:!1,animating:!1,loading:!1}},computed:{can_save_score:function(){var t=this;if(this.score_submitted||!this.total_score)return!1;var e=this.top_users.map(function(t){return t.score});return e.length<10||e.some(function(e){return e<t.total_score})}},watch:{game_over:function(t){var e=this;t&&this.can_save_score&&setTimeout(function(){e.save_score_dialog=!0},1e3)},animating:function(t){t?clearInterval(this.game_interval):this.game_interval=setInterval(this.game_flow,1e3)}},created:function(){this.add_new_tetris(),this.keyboard_controls(),this.get_top_users()},methods:{get_top_users:function(){var t=this;this.loading=!0,b.collection("users").orderBy("score","desc").limit(10).onSnapshot(function(e){var r=[];e.docs.forEach(function(t){return r.push(t.data())}),t.top_users=r,t.loading=!1})},save_user:function(t){var e=this;b.collection("users").add(t).then(function(){w.$emit("snackbar","Score saved successfully!"),e.score_submitted=!0})},start_new_game:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t||(Object.assign(this.$data,this.$options.data.apply(this)),this.add_new_tetris()),this.game_interval=setInterval(this.game_flow,1e3),this.game_started=!0,this.get_top_users()},game_flow:function(){var t=Q(this.arena),e=this.new_tetris_position,r=this.new_tetris_item.rows_count-1;if(!this.should_stop_tetris_flow(t,e,r)){t=this.clear_arena(t);for(var n=e,a=r;n>=0&&a>=0;n--,a--)t[n]=this.merge_rows(t[n],this.new_tetris_item.value[a]);this.arena_collides(t)?this.new_tetris_item.rotated?(this.new_tetris_item=G({},this.tetris_before_rotation),this.game_flow()):(this.remove_active_tetris(),this.check_for_score(Q(this.arena)),this.add_new_tetris()):(this.new_tetris_item.rotated=!1,this.tetris_before_rotation=null,this.arena=t,this.new_tetris_position++)}},keyboard_controls:function(){var t=this;document.addEventListener("keydown",function(e){if(!t.game_over&&t.game_started&&!t.animating&&t.new_tetris_position)if("ArrowLeft"===e.code)t.change_tetris_position(-1);else if("ArrowRight"===e.code)t.change_tetris_position(1);else if("ArrowUp"===e.code){var r=t.rotate_matrix(Q(t.new_tetris_item.matrix));t.tetris_rotated(r)}else"ArrowDown"===e.code&&t.game_flow()})},arena_collides:function(t){for(var e=!1,r=0;r<t.length;r++)if(this.row_collides(t[r])){e=!0;break}return e},should_stop_tetris_flow:function(t,e,r){for(var n=this.new_tetris_item,a=n.starts,i=n.expands,s=n.value,o=!1,c=s[s.length-1],l=a;l<a+i;l++)if(e<3&&1===t[e][l]&&c[l]){o=!0;break}return o&&e<r?(this.game_over=!0,clearInterval(this.game_interval),!0):this.new_tetris_position>8?(this.check_for_score(Q(this.arena)),this.remove_active_tetris(),this.add_new_tetris(),!0):void 0},clear_arena:function(t){return t.map(function(t){return t.map(function(t){return 2===t?0:t})})},remove_active_tetris:function(){this.arena=this.arena.map(function(t){return t.map(function(t){return 2===t?1:t})})},merge_rows:function(t,e){return t.map(function(t,r){return t+e[r]})},add_new_tetris:function(){var t=Math.floor(6*Math.random());this.new_tetris_item=G({},_[t]),this.new_tetris_position=0},row_collides:function(t){return t.some(function(t){return t>2})},rotate_matrix:function(t){if(!this.new_tetris_item.is_rotatable)return t;var e=t.reverse(),r=[],n=e.length;return e[0].forEach(function(t,a){for(var i=[],s=0;s<n;s++)i.push(e[s][a]);r.push(i)}),r},clear_matrix:function(t){return t=this.clear_horizontally(Q(t)),t=this.clear_vertically(Q(t)),t},clear_vertically:function(t){return t.every(function(t){return!t[0]})&&(t=t.map(function(t){return t.slice(1)})),t.every(function(e){return!e[t[0].length-1]})&&(t=t.map(function(t){return t.slice(0,-1)})),t},clear_horizontally:function(t){return t[0].every(function(t){return!t})&&t.splice(0,1),t[t.length-1].every(function(t){return!t})&&t.splice(t.length-1,1),t},tetris_rotated:function(t){if(this.new_tetris_item.is_rotatable)if(this.tetris_before_rotation)this.tetris_before_rotation=null;else{var e=this.new_tetris_item.starts,r=Q(t),n=r[0].length,a=[];e+n>9&&(e-=e+n-9),r=this.clear_matrix(Q(r));for(var i=0;i<r.length;i++){for(var s=[],o=0;o<=6;o++)if(o===e){if(s.push.apply(s,Q(r[i])),r[i].length<3)for(var c=3-r[i].length,l=0;l<c;l++)s.push(0)}else s.push(0);a.push(s)}this.tetris_before_rotation=G({},this.new_tetris_item),this.new_tetris_item.matrix=t,this.new_tetris_item.rotated=!0,this.new_tetris_item.starts=e,this.new_tetris_item.expands=r[0].length,this.new_tetris_item.value=a,this.new_tetris_item.rows_count=a.length,this.new_tetris_position--,this.game_flow()}},change_tetris_position:function(t){var e=this.new_tetris_item.starts+t,r=Q(this.new_tetris_item.value);if(this.can_move_tetris(t)){var n=r.map(function(e){if(t<0){var r=e.slice(1);return r.push(0),r}var n=e.slice(0,-1);return n.unshift(0),n});this.new_tetris_item.starts=e,this.new_tetris_item.value=n,this.new_tetris_position--,this.game_flow()}},get_arena_rows:function(t,e){for(var r=[],n=t,a=e.length-1;a>=0&&n>=0;n--,a--)r.push(Q(this.arena[n]));return r.reverse()},tetris_reached_bounds:function(t,e){return e>0?t.some(function(e){return 0!==e[t[0].length-1]}):t.some(function(t){return 0!==t[0]})},check_bounds_and_position:function(t){return!this.tetris_reached_bounds(this.new_tetris_item.value,t)&&0!==this.new_tetris_position},can_move_tetris:function(t){if(!this.check_bounds_and_position(t))return!1;var e=this.new_tetris_position-1,r=p()(this.new_tetris_item.value),n=this.get_arena_rows(e,r);return t>0?n.every(function(t,e){var n=r[e].length-1-r[e].slice().reverse().findIndex(function(t){return 0!==t});return 0===t[n+1]}):n.every(function(t,e){var n=r[e].findIndex(function(t){return 0!==t});return 0===t[n-1]})},check_for_score:function(){var t=H(f.a.mark(function t(e){var r,n,a=this;return f.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(r=[],n=Q(e).reverse(),n.forEach(function(t,e){t.every(function(t){return t>=1})&&(a.total_score+=a.score_for_row*(e+1))}),e.forEach(function(t,e){t.every(function(t){return t>=1})&&r.push(e)}),!r.length){t.next=9;break}return this.animating=!0,t.next=8,this.calculate_row_animation(r);case 8:this.animating=!1;case 9:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),calculate_row_animation:function(t){var e=this;return new Promise(function(r){t.forEach(function(){var n=H(f.a.mark(function n(a,i){var s;return f.a.wrap(function(n){while(1)switch(n.prev=n.next){case 0:return s=document.querySelectorAll(".tetris-row"),s[a].classList.add("to-clear"),n.next=4,e.animate_row(s,a);case 4:i+1>=t.length&&r(!0);case 5:case"end":return n.stop()}},n,this)}));return function(t,e){return n.apply(this,arguments)}}())})},animate_row:function(t,e){var r=this;return new Promise(function(n){setTimeout(function(){t[e].classList.remove("to-clear"),r.arena.splice(e,1),r.arena.unshift([0,0,0,0,0,0,0,0,0]),n(!0)},400)})}}},tt=X,et=(r("894a"),Object(j["a"])(tt,c,l,!1,null,"6d4ff930",null));et.options.__file="Tetris.vue";var rt=et.exports,nt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-snackbar",{attrs:{timeout:3e3,color:"green"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[r("v-icon",{attrs:{color:"white"}},[t._v("mdi-check")]),t._v("\n\t"+t._s(t.text)+"\n\t"),r("v-btn",{attrs:{color:"white",flat:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n\t\tClose\n\t")])],1)},at=[],it={data:function(){return{snackbar:!1,text:"Default Text"}},created:function(){var t=this;w.$on("snackbar",function(e){t.text=e,t.snackbar=!0})}},st=it,ot=Object(j["a"])(st,nt,at,!1,null,null,null);ot.options.__file="SnackBar.vue";var ct=ot.exports,lt={name:"app",components:{Tetris:rt,SnackBar:ct}},ut=lt,ft=Object(j["a"])(ut,s,o,!1,null,null,null);ft.options.__file="App.vue";var _t=ft.exports;n["default"].config.productionTip=!1,new n["default"]({render:function(t){return t(_t)}}).$mount("#app")},7556:function(t,e,r){},"80f2":function(t,e,r){},"894a":function(t,e,r){"use strict";var n=r("7556"),a=r.n(n);a.a},affa:function(t,e,r){"use strict";var n=r("80f2"),a=r.n(n);a.a},d0fc:function(t,e,r){"use strict";var n=r("ec04"),a=r.n(n);a.a},ec04:function(t,e,r){}});
//# sourceMappingURL=app.02db09f5.js.map