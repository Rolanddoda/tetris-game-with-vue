{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/plugins/vuetify.js","webpack:///./src/App.vue?176d","webpack:///./src/components/Tetris/Tetris.vue?0a56","webpack:///./src/components/Tetris/tetris_items.js","webpack:///./src/plugins/firestore.js","webpack:///./src/plugins/event.js","webpack:///./src/components/TopUsers/TopUsers.vue?8946","webpack:///src/components/TopUsers/TopUsers.vue","webpack:///./src/components/TopUsers/TopUsers.vue?a88c","webpack:///./src/components/TopUsers/TopUsers.vue","webpack:///./src/components/SaveScoreDialog/SaveScoreDialog.vue?3b6e","webpack:///./src/components/DetailsForm/DetailsForm.vue?bd13","webpack:///src/components/DetailsForm/DetailsForm.vue","webpack:///./src/components/DetailsForm/DetailsForm.vue?d400","webpack:///./src/components/DetailsForm/DetailsForm.vue","webpack:///src/components/SaveScoreDialog/SaveScoreDialog.vue","webpack:///./src/components/SaveScoreDialog/SaveScoreDialog.vue?e6fe","webpack:///./src/components/SaveScoreDialog/SaveScoreDialog.vue","webpack:///./src/components/PlayInfo/PlayInfo.vue?96da","webpack:///./src/components/PlayInfo/PlayInfo.vue?11b0","webpack:///./src/components/Tetris/Tetris.js","webpack:///./src/components/Tetris/Tetris.js?df4c","webpack:///./src/components/Tetris/Tetris.vue","webpack:///./src/components/SnackBar/SnackBar.vue?e34e","webpack:///src/components/SnackBar/SnackBar.vue","webpack:///./src/components/SnackBar/SnackBar.vue?b5c4","webpack:///./src/components/SnackBar/SnackBar.vue","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/components/Tetris/Tetris.scss?2b82","webpack:///./src/components/TopUsers/TopUsers.vue?b53e","webpack:///./src/components/PlayInfo/PlayInfo.vue?9ef5"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","app","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","Vue","use","Vuetify","customProperties","iconfont","Appvue_type_template_id_e269a7dc_render","_vm","this","_h","$createElement","_c","_self","staticRenderFns","Tetrisvue_type_template_id_6d4ff930_scoped_true_render","staticClass","_l","row","index","column","class","active","attrs","_v","_s","total_score","large","outline","dark","on","click","$event","start_new_game","can_save_score","save_score_dialog","_e","ref","open","score","users","top_users","update:open","save-user","save_user","game_over","game_started","block","top-users","loading","Tetrisvue_type_template_id_6d4ff930_scoped_true_staticRenderFns","tetris_items","type","rows_count","matrix","starts","expands","rotated","is_rotatable","config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","firebase","initializeApp","db","firestore","settings","timestampsInSnapshots","event","TopUsersvue_type_template_id_340efc42_scoped_true_render","slot","indeterminate","topUsers","user","id","nickname","TopUsersvue_type_template_id_340efc42_scoped_true_staticRenderFns","TopUsersvue_type_script_lang_js_","props","Array","Boolean","TopUsers_TopUsersvue_type_script_lang_js_","component","componentNormalizer","options","__file","TopUsers","SaveScoreDialogvue_type_template_id_34027306_render","justify-center","persistent","max-width","model","callback","$$v","dialog","expression","vertical","stepper","complete","step","color","flat","close_dialog","validate_form","SaveScoreDialogvue_type_template_id_34027306_staticRenderFns","DetailsFormvue_type_template_id_53552c56_scoped_true_render","wrap","xs12","md6","label","placeholder","prepend-icon","form","$set","trim","rules","email","required","unique","DetailsFormvue_type_template_id_53552c56_scoped_true_staticRenderFns","DetailsFormvue_type_script_lang_js_","valid","first_name","last_name","computed","_this","pattern","test","find","methods","validate","$refs","$emit","assign","DetailsForm_DetailsFormvue_type_script_lang_js_","DetailsForm_component","DetailsForm","SaveScoreDialogvue_type_script_lang_js_","components","Number","watch","val","SaveScoreDialog_SaveScoreDialogvue_type_script_lang_js_","SaveScoreDialog_component","SaveScoreDialog","PlayInfovue_type_template_id_e3808010_scoped_true_functional_true_render","_m","PlayInfovue_type_template_id_e3808010_scoped_true_functional_true_staticRenderFns","script","PlayInfo_component","PlayInfo","Tetrisvue_type_script_lang_js_","arena","new_tetris_item","new_tetris_position","game_interval","tetris_before_rotation","score_for_row","score_submitted","animating","top_scores","map","some","_this2","setTimeout","clearInterval","setInterval","game_flow","created","add_new_tetris","keyboard_controls","get_top_users","_this3","collection","orderBy","limit","onSnapshot","res","docs","forEach","doc","_this4","add","then","init","arguments","undefined","$data","$options","_toConsumableArray","pos","should_stop_tetris_flow","clear_arena","ar_row","t_row","merge_rows","arena_collides","_objectSpread","remove_active_tetris","check_for_score","_this5","document","addEventListener","code","change_tetris_position","new_matrix","rotate_matrix","tetris_rotated","collides","row_collides","_this$new_tetris_item","next_row_collides","last_row","cell","col","arr1","arr2","item","random_tetris","Math","floor","random","arr","original_matrix","reverse","rows","col_index","matrix_row","clear_matrix","clear_horizontally","clear_vertically","every","c_matrix","rotated_tetris","new_row","times","new_pos","tetris","can_move_tetris","new_tetris","unshift","get_arena_rows","cursor","t_rows","a_rows","tetris_reached_bounds","dir","check_bounds_and_position","_cloneDeep","ends","findIndex","_check_for_score","_asyncToGenerator","regenerator_default","a","mark","_callee","indexes","c_arena","_this6","_context","prev","next","calculate_row_animation","stop","_x","_this7","Promise","resolve","_ref","_callee2","_context2","querySelectorAll","classList","animate_row","_x2","_x3","_this8","remove","Tetris_Tetrisvue_type_script_lang_js_","Tetris_component","Tetris","SnackBarvue_type_template_id_d1c23144_render","timeout","snackbar","text","SnackBarvue_type_template_id_d1c23144_staticRenderFns","SnackBarvue_type_script_lang_js_","event_event","$on","SnackBar_SnackBarvue_type_script_lang_js_","SnackBar_component","SnackBar","Appvue_type_script_lang_js_","src_Appvue_type_script_lang_js_","App_component","App","productionTip","render","h","$mount","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_Tetris_scss_vue_type_style_index_0_id_6d4ff930_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_Tetris_scss_vue_type_style_index_0_id_6d4ff930_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TopUsers_vue_vue_type_style_index_0_id_340efc42_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TopUsers_vue_vue_type_style_index_0_id_340efc42_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_PlayInfo_vue_vue_type_style_index_0_id_e3808010_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_PlayInfo_vue_vue_type_style_index_0_id_e3808010_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/app.02db09f5.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/tetris-game-with-vue/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import Vue from 'vue'\r\nimport Vuetify from 'vuetify'\r\nimport 'vuetify/dist/vuetify.min.css'\r\n\r\nVue.use(Vuetify, {\r\n  customProperties: true,\r\n  iconfont: 'mdi'\r\n})\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',[_c('tetris'),_c('snack-bar')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrapper\"},[_c('div',{staticClass:\"tetris-wrapper\"},[_c('div',{staticClass:\"tetris\"},[_vm._l((_vm.arena),function(row,index){return _c('div',{key:index,staticClass:\"tetris-row\"},_vm._l((row),function(column,index){return _c('div',{key:index,class:['tetris-column', { active: column }]},[_c('div',{staticClass:\"tetris-cell\"})])}),0)}),_c('transition',{attrs:{\"name\":\"increase-height\",\"mode\":\"out-in\"}},[(_vm.game_over)?_c('div',{staticClass:\"game-over\"},[_vm._v(\"\\n\\t\\t\\t\\t\\tGame Over\\n\\n\\t\\t\\t\\t\\t\"),_c('div',{staticClass:\"your-score\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\tYour score is \"+_vm._s(_vm.total_score)+\"\\n\\t\\t\\t\\t\\t\")]),_c('div',{staticClass:\"score-actions\"},[_c('v-btn',{attrs:{\"large\":\"\",\"outline\":\"\",\"dark\":\"\"},on:{\"click\":function($event){_vm.start_new_game()}}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\tStart new game\\n\\t\\t\\t\\t\\t\\t\")]),(_vm.can_save_score && !_vm.save_score_dialog)?[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\tor\\n\\t\\t\\t\\t\\t\\t\\t\"),_c('v-btn',{attrs:{\"large\":\"\",\"outline\":\"\",\"dark\":\"\"},on:{\"click\":function($event){_vm.save_score_dialog = true}}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\tRegister in top 10\\n\\t\\t\\t\\t\\t\\t\\t\")])]:_vm._e()],2),_c('save-score-dialog',{ref:\"dialog\",attrs:{\"open\":_vm.save_score_dialog,\"score\":_vm.total_score,\"users\":_vm.top_users},on:{\"update:open\":function($event){_vm.save_score_dialog=$event},\"save-user\":_vm.save_user}})],1):_vm._e()]),(!_vm.game_over && !_vm.game_started)?_c('play-info'):_vm._e()],2)]),_c('div',{staticClass:\"game-controls\"},[_c('div',{staticClass:\"score\"},[_vm._v(\"\\n\\t\\t\\tTOTAL SCORE: \"+_vm._s(_vm.total_score)+\"\\n\\t\\t\")]),(!_vm.game_started)?_c('v-btn',{attrs:{\"block\":\"\",\"large\":\"\"},on:{\"click\":function($event){_vm.start_new_game()}}},[_vm._v(\"START\\n\\t\\t\\tNEW GAME\\n\\t\\t\")]):_vm._e(),_c('top-users',{attrs:{\"top-users\":_vm.top_users,\"loading\":_vm.loading}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const tetris_items = [\r\n  {\r\n    type: 'T',\r\n    value: [[0, 0, 0, 2, 2, 2, 0, 0, 0], [0, 0, 0, 0, 2, 0, 0, 0, 0]],\r\n    rows_count: 2,\r\n    matrix: [[2, 2, 2], [0, 2, 0]],\r\n    starts: 3, //start shows the position of tetris can be [0,1,2,3,4,5,6]\r\n    expands: 3, //how many rows the tetris expanded\r\n    rotated: false,\r\n    is_rotatable: true\r\n  },\r\n\r\n  {\r\n    type: 'Z',\r\n    value: [[0, 0, 0, 2, 2, 0, 0, 0, 0], [0, 0, 0, 0, 2, 2, 0, 0, 0]],\r\n    rows_count: 2,\r\n    matrix: [[2, 2, 0], [0, 2, 2]],\r\n    starts: 3,\r\n    expands: 3,\r\n    rotated: false,\r\n    is_rotatable: true\r\n  },\r\n\r\n  {\r\n    type: 'S',\r\n    value: [[0, 0, 0, 0, 2, 2, 0, 0, 0], [0, 0, 0, 2, 2, 0, 0, 0, 0]],\r\n    rows_count: 2,\r\n    matrix: [[0, 2, 2], [2, 2, 0]],\r\n    starts: 3,\r\n    expands: 3,\r\n    rotated: false,\r\n    is_rotatable: true\r\n  },\r\n\r\n  {\r\n    type: 'I',\r\n    value: [\r\n      [0, 0, 0, 0, 2, 0, 0, 0, 0],\r\n      [0, 0, 0, 0, 2, 0, 0, 0, 0],\r\n      [0, 0, 0, 0, 2, 0, 0, 0, 0]\r\n    ],\r\n    rows_count: 3,\r\n    matrix: [[0, 2, 0], [0, 2, 0], [0, 2, 0]],\r\n    starts: 4,\r\n    expands: 1,\r\n    rotated: false,\r\n    is_rotatable: true\r\n  },\r\n\r\n  {\r\n    //I but horizontal\r\n    type: 'IH',\r\n    value: [[0, 0, 0, 2, 2, 2, 0, 0, 0]],\r\n    rows_count: 1,\r\n    matrix: [[0, 0, 0], [2, 2, 2], [0, 0, 0]],\r\n    starts: 3,\r\n    expands: 3,\r\n    rotated: false,\r\n    is_rotatable: true\r\n  },\r\n\r\n  {\r\n    type: 'O',\r\n    value: [[0, 0, 0, 0, 2, 2, 0, 0, 0], [0, 0, 0, 0, 2, 2, 0, 0, 0]],\r\n    rows_count: 2,\r\n    matrix: [[0, 2, 2], [0, 2, 2]],\r\n    starts: 4,\r\n    expands: 2,\r\n    rotated: false,\r\n    is_rotatable: false\r\n  },\r\n\r\n  {\r\n    type: 'L',\r\n    value: [\r\n      [0, 0, 0, 2, 0, 0, 0, 0, 0],\r\n      [0, 0, 0, 2, 0, 0, 0, 0, 0],\r\n      [0, 0, 0, 2, 2, 0, 0, 0, 0]\r\n    ],\r\n    rows_count: 3,\r\n    matrix: [[2, 0, 0], [2, 0, 0], [2, 2, 0]],\r\n    starts: 3,\r\n    expands: 2,\r\n    rotated: false,\r\n    is_rotatable: true\r\n  }\r\n]\r\n","import firebase from 'firebase/app'\r\nimport 'firebase/firestore'\r\n\r\n// Initialize Firebase\r\nconst config = {\r\n  apiKey: 'AIzaSyAR0ymUYwrhk86NTVtTcuhHjQLIWZfUQfw',\r\n  authDomain: 'vue-simple-tetris.firebaseapp.com',\r\n  databaseURL: 'https://vue-simple-tetris.firebaseio.com',\r\n  projectId: 'vue-simple-tetris',\r\n  storageBucket: 'vue-simple-tetris.appspot.com',\r\n  messagingSenderId: '923999047218'\r\n}\r\nfirebase.initializeApp(config)\r\nconst db = firebase.firestore()\r\ndb.settings({ timestampsInSnapshots: true })\r\n\r\nexport default db\r\n","import Vue from 'vue'\r\nexport const event = new Vue()\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-expansion-panel',{staticClass:\"top-users\"},[_c('v-expansion-panel-content',[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[(_vm.loading)?_c('v-progress-linear',{attrs:{\"indeterminate\":true}}):(!_vm.topUsers.length && !_vm.loading)?_c('span',[_vm._v(\"No Top Users Yet\")]):_c('span',[_vm._v(\"Top Users\")])],1),_c('v-card',[_c('v-card-text',_vm._l((_vm.topUsers),function(user,index){return _c('div',{key:user.id,staticClass:\"user\"},[_c('span',[_vm._v(_vm._s(index + 1))]),_c('span',[_vm._v(_vm._s(user.nickname))]),_c('span',[_vm._v(_vm._s(user.score))])])}),0)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<v-expansion-panel class=\"top-users\">\r\n\t\t<v-expansion-panel-content>\r\n\t\t\t<div slot=\"header\">\r\n\t\t\t\t<v-progress-linear :indeterminate=\"true\" v-if=\"loading\"></v-progress-linear>\r\n\t\t\t\t<span v-else-if=\"!topUsers.length && !loading\">No Top Users Yet</span>\r\n\t\t\t\t<span v-else>Top Users</span>\r\n\t\t\t</div>\r\n\t\t\t<v-card>\r\n\t\t\t\t<v-card-text>\r\n\t\t\t\t\t<div class=\"user\" v-for=\"(user, index) of topUsers\" :key=\"user.id\">\r\n\t\t\t\t\t\t<span>{{ index + 1 }}</span> <span>{{ user.nickname }}</span> <span>{{ user.score }}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</v-card-text>\r\n\t\t\t</v-card>\r\n\t\t</v-expansion-panel-content>\r\n\t</v-expansion-panel>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    topUsers: Array,\r\n\t  loading: Boolean\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.user {\r\n  padding: 10px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopUsers.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopUsers.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TopUsers.vue?vue&type=template&id=340efc42&scoped=true&\"\nimport script from \"./TopUsers.vue?vue&type=script&lang=js&\"\nexport * from \"./TopUsers.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TopUsers.vue?vue&type=style&index=0&id=340efc42&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"340efc42\",\n  null\n  \n)\n\ncomponent.options.__file = \"TopUsers.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-layout',{attrs:{\"row\":\"\",\"justify-center\":\"\"}},[_c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"800px\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-card-title',[_c('h3',[_vm._v(\"Congrats!! You are in top 10\")]),_c('v-spacer'),_c('h3',[_vm._v(\"Your score is \"+_vm._s(_vm.score))])],1),_c('v-card-text',[_c('div',{staticClass:\"save-top-user\"},[_c('v-stepper',{attrs:{\"vertical\":\"\"},model:{value:(_vm.stepper),callback:function ($$v) {_vm.stepper=$$v},expression:\"stepper\"}},[_c('v-stepper-step',{attrs:{\"complete\":_vm.stepper > 1,\"step\":\"1\"}},[_c('h3',[_vm._v(\"Do you want to save your score in TOP 10?\")])]),_c('v-stepper-content',{attrs:{\"step\":\"1\"}},[_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":function($event){_vm.stepper = 2}}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\tContinue\\n\\t\\t\\t\\t\\t\\t\\t\")]),_c('v-btn',{attrs:{\"flat\":\"\"},on:{\"click\":_vm.close_dialog}},[_vm._v(\" Cancel\")])],1),_c('v-stepper-step',{attrs:{\"step\":\"2\"}},[_c('h3',[_vm._v(\"Add details\")])]),_c('v-stepper-content',{attrs:{\"step\":\"2\"}},[_c('details-form',{ref:\"form\",attrs:{\"users\":_vm.users},on:{\"save-user\":_vm.save_user}}),_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":_vm.validate_form}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\tSave\\n\\t\\t\\t\\t\\t\\t\\t\")]),_c('v-btn',{attrs:{\"flat\":\"\"},on:{\"click\":_vm.close_dialog}},[_vm._v(\"Cancel\")])],1)],1)],1)])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',[_c('v-card-title',[_c('h3',[_vm._v(\"Register in TOP 10\")])]),_c('v-card-text',[_c('v-form',{ref:\"form\"},[_c('v-container',[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\",\"md6\":\"\"}},[_c('v-text-field',{attrs:{\"label\":\"First Name\",\"placeholder\":\"optional\",\"prepend-icon\":\"mdi-account\"},model:{value:(_vm.form.first_name),callback:function ($$v) {_vm.$set(_vm.form, \"first_name\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.first_name\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"md6\":\"\"}},[_c('v-text-field',{attrs:{\"label\":\"Last Name\",\"placeholder\":\"optional\",\"prepend-icon\":\"mdi-account\"},model:{value:(_vm.form.last_name),callback:function ($$v) {_vm.$set(_vm.form, \"last_name\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.last_name\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"md6\":\"\"}},[_c('v-text-field',{attrs:{\"label\":\"Email\",\"placeholder\":\"optional\",\"prepend-icon\":\"mdi-email\",\"rules\":[_vm.rules.email]},model:{value:(_vm.form.email),callback:function ($$v) {_vm.$set(_vm.form, \"email\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.email\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"md6\":\"\"}},[_c('v-text-field',{attrs:{\"label\":\"Nickname\",\"placeholder\":\"required\",\"prepend-icon\":\"mdi-account-heart\",\"rules\":[_vm.rules.required, _vm.rules.unique]},model:{value:(_vm.form.nickname),callback:function ($$v) {_vm.$set(_vm.form, \"nickname\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.nickname\"}})],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<v-card>\r\n\t\t<v-card-title>\r\n\t\t\t<h3>Register in TOP 10</h3>\r\n\t\t</v-card-title>\r\n\t\t<v-card-text>\r\n\t\t\t<v-form ref=\"form\">\r\n\t\t\t\t<v-container>\r\n\t\t\t\t\t<v-layout row wrap>\r\n\r\n\t\t\t\t\t\t<v-flex xs12 md6>\r\n\t\t\t\t\t\t\t<v-text-field label=\"First Name\"\r\n\t\t\t\t\t\t\t              placeholder=\"optional\"\r\n\t\t\t\t\t\t\t              prepend-icon=\"mdi-account\"\r\n\t\t\t\t\t\t\t              v-model.trim=\"form.first_name\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</v-flex>\r\n\r\n\t\t\t\t\t\t<v-flex xs12 md6>\r\n\t\t\t\t\t\t\t<v-text-field label=\"Last Name\"\r\n\t\t\t\t\t\t\t              placeholder=\"optional\"\r\n\t\t\t\t\t\t\t              prepend-icon=\"mdi-account\"\r\n\t\t\t\t\t\t\t              v-model.trim=\"form.last_name\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</v-flex>\r\n\r\n\t\t\t\t\t\t<v-flex xs12 md6>\r\n\t\t\t\t\t\t\t<v-text-field label=\"Email\"\r\n\t\t\t\t\t\t\t              placeholder=\"optional\"\r\n\t\t\t\t\t\t\t              prepend-icon=\"mdi-email\"\r\n\t\t\t\t\t\t\t              v-model.trim=\"form.email\"\r\n\t\t\t\t\t\t\t              :rules=\"[rules.email]\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</v-flex>\r\n\r\n\t\t\t\t\t\t<v-flex xs12 md6>\r\n\t\t\t\t\t\t\t<v-text-field label=\"Nickname\"\r\n\t\t\t\t\t\t\t              placeholder=\"required\"\r\n\t\t\t\t\t\t\t              prepend-icon=\"mdi-account-heart\"\r\n\t\t\t\t\t\t\t              v-model.trim=\"form.nickname\"\r\n\t\t\t\t\t\t\t              :rules=\"[rules.required, rules.unique]\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</v-flex>\r\n\r\n\t\t\t\t\t</v-layout>\r\n\t\t\t\t</v-container>\r\n\t\t\t</v-form>\r\n\t\t</v-card-text>\r\n\t</v-card>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    users: Array\r\n  },\r\n\r\n  data: () => ({\r\n    valid: false,\r\n    form: {\r\n      first_name: '',\r\n      last_name: '',\r\n      email: '',\r\n      nickname: ''\r\n    }\r\n  }),\r\n\r\n  computed: {\r\n    rules() {\r\n      return {\r\n        required: value => !!value || 'Required.',\r\n        email: value => {\r\n          if (!value) return true\r\n          const pattern = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\r\n          return pattern.test(value) || 'Invalid e-mail.'\r\n        },\r\n        unique: value => {\r\n          if (!value) return true\r\n          if (!this.users.length) return true\r\n          if (this.users.find(user => user.nickname === value))\r\n            return 'Already taken'\r\n          return true\r\n        }\r\n      }\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    validate() {\r\n      if (this.$refs.form.validate()) {\r\n        this.$emit('save-user', Object.assign({}, this.form))\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailsForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailsForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DetailsForm.vue?vue&type=template&id=53552c56&scoped=true&\"\nimport script from \"./DetailsForm.vue?vue&type=script&lang=js&\"\nexport * from \"./DetailsForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"53552c56\",\n  null\n  \n)\n\ncomponent.options.__file = \"DetailsForm.vue\"\nexport default component.exports","<template>\r\n\t<v-layout row justify-center>\r\n\t\t<v-dialog v-model=\"dialog\" persistent max-width=\"800px\">\r\n\r\n\t\t\t<v-card>\r\n\t\t\t\t<v-card-title>\r\n\t\t\t\t\t<h3>Congrats!! You are in top 10</h3>\r\n\t\t\t\t\t<v-spacer></v-spacer>\r\n\t\t\t\t\t<h3>Your score is {{ score }}</h3>\r\n\t\t\t\t</v-card-title>\r\n\r\n\t\t\t\t<v-card-text>\r\n\t\t\t\t\t<div class=\"save-top-user\">\r\n\t\t\t\t\t\t<v-stepper\r\n\t\t\t\t\t\t\t\tv-model=\"stepper\"\r\n\t\t\t\t\t\t\t\tvertical\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<v-stepper-step :complete=\"stepper > 1\" step=\"1\">\r\n\t\t\t\t\t\t\t\t<h3>Do you want to save your score in TOP 10?</h3>\r\n\t\t\t\t\t\t\t</v-stepper-step>\r\n\r\n\t\t\t\t\t\t\t<v-stepper-content step=\"1\">\r\n\r\n\t\t\t\t\t\t\t\t<v-btn color=\"primary\" @click=\"stepper = 2\">\r\n\t\t\t\t\t\t\t\t\tContinue\r\n\t\t\t\t\t\t\t\t</v-btn>\r\n\r\n\t\t\t\t\t\t\t\t<v-btn flat @click=\"close_dialog\"> Cancel</v-btn>\r\n\r\n\t\t\t\t\t\t\t</v-stepper-content>\r\n\r\n\t\t\t\t\t\t\t<v-stepper-step step=\"2\">\r\n\t\t\t\t\t\t\t\t<h3>Add details</h3>\r\n\t\t\t\t\t\t\t</v-stepper-step>\r\n\r\n\t\t\t\t\t\t\t<v-stepper-content step=\"2\">\r\n\r\n\t\t\t\t\t\t\t\t<details-form ref=\"form\" :users=\"users\" @save-user=\"save_user\" /> <!-- component -->\r\n\r\n\t\t\t\t\t\t\t\t<v-btn color=\"primary\" @click=\"validate_form\">\r\n\t\t\t\t\t\t\t\t\tSave\r\n\t\t\t\t\t\t\t\t</v-btn>\r\n\r\n\t\t\t\t\t\t\t\t<v-btn flat @click=\"close_dialog\">Cancel</v-btn>\r\n\r\n\t\t\t\t\t\t\t</v-stepper-content>\r\n\r\n\t\t\t\t\t\t</v-stepper>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</v-card-text>\r\n\t\t\t</v-card>\r\n\r\n\t\t</v-dialog>\r\n\t</v-layout>\r\n</template>\r\n\r\n<script>\r\nimport DetailsForm from '@/components/DetailsForm/DetailsForm.vue'\r\n\r\nexport default {\r\n  components: {\r\n    DetailsForm\r\n  },\r\n\r\n  props: {\r\n    open: Boolean,\r\n    score: Number,\r\n\t  users: Array\r\n  },\r\n\r\n  data: () => ({\r\n    dialog: false,\r\n    stepper: 1\r\n  }),\r\n\r\n  watch: {\r\n    open(val) {\r\n      this.dialog = val\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    close_dialog() {\r\n      this.$emit('update:open', false)\r\n    },\r\n\r\n    validate_form() {\r\n      this.$refs.form.validate()\r\n    },\r\n\r\n    save_user(form) {\r\n      form.score = this.score\r\n      this.$emit('save-user', form)\r\n      this.dialog = false\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SaveScoreDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SaveScoreDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SaveScoreDialog.vue?vue&type=template&id=34027306&\"\nimport script from \"./SaveScoreDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./SaveScoreDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"SaveScoreDialog.vue\"\nexport default component.exports","var render = function (_h,_vm) {var _c=_vm._c;return _vm._m(0)}\nvar staticRenderFns = [function (_h,_vm) {var _c=_vm._c;return _c('div',{staticClass:\"play-info\"},[_c('h2',[_vm._v(\"How to play\")]),_c('span',[_c('code',[_vm._v(\"↑\")]),_vm._v(\" : Rotate tetris\")]),_c('span',[_c('code',[_vm._v(\"→\")]),_vm._v(\" : Move tetris to the right\")]),_c('span',[_c('code',[_vm._v(\"↓\")]),_vm._v(\" : Move tetris to the bottom faster\")]),_c('span',[_c('code',[_vm._v(\"←\")]),_vm._v(\" : Move tetris to the left\")])])}]\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./PlayInfo.vue?vue&type=template&id=e3808010&scoped=true&functional=true&\"\nvar script = {}\nimport style0 from \"./PlayInfo.vue?vue&type=style&index=0&id=e3808010&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  true,\n  null,\n  \"e3808010\",\n  null\n  \n)\n\ncomponent.options.__file = \"PlayInfo.vue\"\nexport default component.exports","import { tetris_items } from './tetris_items'\r\nimport _cloneDeep from 'lodash/cloneDeep'\r\nimport db from '@/plugins/firestore'\r\nimport { event } from '@/plugins/event'\r\nimport TopUsers from '@/components/TopUsers/TopUsers.vue'\r\nimport SaveScoreDialog from '@/components/SaveScoreDialog/SaveScoreDialog.vue'\r\nimport PlayInfo from '@/components/PlayInfo/PlayInfo.vue'\r\n\r\nexport default {\r\n  name: 'Tetris',\r\n\r\n  components: {\r\n    TopUsers,\r\n    SaveScoreDialog,\r\n    PlayInfo\r\n  },\r\n\r\n  data: () => ({\r\n    arena: [\r\n      [0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n      [0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n      [0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n      [0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n      [0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n      [0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n      [0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n      [0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n      [0, 0, 0, 0, 0, 0, 0, 0, 0]\r\n    ],\r\n    new_tetris_item: null,\r\n    new_tetris_position: 0, //defines the cursor\r\n    game_interval: null,\r\n    tetris_before_rotation: null,\r\n    score_for_row: 10,\r\n    total_score: 0,\r\n    game_over: false,\r\n    game_started: false,\r\n    top_users: [],\r\n    save_score_dialog: false,\r\n    score_submitted: false,\r\n    animating: false,\r\n    loading: false\r\n  }),\r\n\r\n  computed: {\r\n    can_save_score() {\r\n      if (this.score_submitted || !this.total_score) return false\r\n      let top_scores = this.top_users.map(user => user.score)\r\n      if (top_scores.length < 10) return true\r\n      return top_scores.some(score => score < this.total_score)\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    game_over(val) {\r\n      if (val && this.can_save_score) {\r\n        setTimeout(() => {\r\n          this.save_score_dialog = true\r\n        }, 1000)\r\n      }\r\n    },\r\n    animating(val) {\r\n      if (val) {\r\n        clearInterval(this.game_interval)\r\n      } else {\r\n        this.game_interval = setInterval(this.game_flow, 1000)\r\n      }\r\n    }\r\n  },\r\n\r\n  created() {\r\n    this.add_new_tetris()\r\n    this.keyboard_controls()\r\n    this.get_top_users()\r\n  },\r\n\r\n  methods: {\r\n    get_top_users() {\r\n      this.loading = true\r\n      db.collection('users')\r\n        .orderBy('score', 'desc')\r\n        .limit(10)\r\n        .onSnapshot(res => {\r\n          let users = []\r\n          res.docs.forEach(doc => users.push(doc.data()))\r\n          this.top_users = users\r\n          this.loading = false\r\n        })\r\n    },\r\n\r\n    save_user(form) {\r\n      db.collection('users')\r\n        .add(form)\r\n        .then(() => {\r\n          event.$emit('snackbar', 'Score saved successfully!')\r\n          this.score_submitted = true\r\n        })\r\n    },\r\n\r\n    start_new_game(init = false) {\r\n      if (!init) {\r\n        Object.assign(this.$data, this.$options.data.apply(this))\r\n        this.add_new_tetris()\r\n      }\r\n      this.game_interval = setInterval(this.game_flow, 1000)\r\n      this.game_started = true\r\n      this.get_top_users()\r\n    },\r\n\r\n    game_flow() {\r\n      let arena = [...this.arena]\r\n      let pos = this.new_tetris_position //pos = position\r\n      let rows_count = this.new_tetris_item.rows_count - 1\r\n      if (this.should_stop_tetris_flow(arena, pos, rows_count)) return\r\n\r\n      arena = this.clear_arena(arena)\r\n\r\n      for (\r\n        let ar_row = pos, t_row = rows_count;\r\n        ar_row >= 0 && t_row >= 0;\r\n        ar_row--, t_row--\r\n      ) {\r\n        //ar_row = arena row,\r\n        arena[ar_row] = this.merge_rows(\r\n          arena[ar_row],\r\n          this.new_tetris_item.value[t_row]\r\n        )\r\n      }\r\n\r\n      if (!this.arena_collides(arena)) {\r\n        this.new_tetris_item.rotated = false\r\n        this.tetris_before_rotation = null\r\n        this.arena = arena\r\n        this.new_tetris_position++\r\n      } else if (this.new_tetris_item.rotated) {\r\n        this.new_tetris_item = { ...this.tetris_before_rotation }\r\n        this.game_flow()\r\n      } else {\r\n        this.remove_active_tetris()\r\n        this.check_for_score([...this.arena])\r\n        this.add_new_tetris()\r\n      }\r\n    },\r\n\r\n    keyboard_controls() {\r\n      document.addEventListener('keydown', event => {\r\n        if (\r\n          this.game_over ||\r\n          !this.game_started ||\r\n          this.animating ||\r\n          !this.new_tetris_position\r\n        )\r\n          return\r\n        if (event.code === 'ArrowLeft') {\r\n          this.change_tetris_position(-1)\r\n        } else if (event.code === 'ArrowRight') {\r\n          this.change_tetris_position(1)\r\n        } else if (event.code === 'ArrowUp') {\r\n          const new_matrix = this.rotate_matrix([\r\n            ...this.new_tetris_item.matrix\r\n          ])\r\n          this.tetris_rotated(new_matrix)\r\n        } else if (event.code === 'ArrowDown') {\r\n          this.game_flow()\r\n        }\r\n      })\r\n    },\r\n\r\n    arena_collides(arena) {\r\n      let collides = false\r\n      for (let index = 0; index < arena.length; index++) {\r\n        if (this.row_collides(arena[index])) {\r\n          collides = true\r\n          break\r\n        }\r\n      }\r\n      return collides\r\n    },\r\n\r\n    should_stop_tetris_flow(arena, pos, rows_count) {\r\n      const { starts, expands, value } = this.new_tetris_item\r\n      let next_row_collides = false\r\n      const last_row = value[value.length - 1]\r\n\r\n      for (let cell = starts; cell < starts + expands; cell++) {\r\n        if (pos < 3 && arena[pos][cell] === 1 && last_row[cell]) {\r\n          next_row_collides = true\r\n          break\r\n        }\r\n      }\r\n\r\n      if (next_row_collides && pos < rows_count) {\r\n        this.game_over = true\r\n        clearInterval(this.game_interval)\r\n        return true\r\n      }\r\n\r\n      if (this.new_tetris_position > 8) {\r\n        this.check_for_score([...this.arena])\r\n        this.remove_active_tetris()\r\n        this.add_new_tetris()\r\n        return true\r\n      }\r\n    },\r\n\r\n    clear_arena(arena) {\r\n      //clear arena from active tetris row (active tetris has number 2)\r\n      return arena.map(row => {\r\n        return row.map(col => {\r\n          return col === 2 ? 0 : col\r\n        })\r\n      })\r\n    },\r\n\r\n    remove_active_tetris() {\r\n      //tetris reached the end so make the rows containing number 2 to become 1\r\n      this.arena = this.arena.map(row => {\r\n        return row.map(col => (col === 2 ? 1 : col))\r\n      })\r\n    },\r\n\r\n    merge_rows(arr1, arr2) {\r\n      return arr1.map((item, index) => {\r\n        return (item += arr2[index])\r\n      })\r\n    },\r\n\r\n    add_new_tetris() {\r\n      const random_tetris = Math.floor(Math.random() * 6)\r\n      this.new_tetris_item = { ...tetris_items[random_tetris] }\r\n      this.new_tetris_position = 0\r\n    },\r\n\r\n    row_collides(arr) {\r\n      return arr.some(item => item > 2)\r\n    },\r\n\r\n    rotate_matrix(original_matrix) {\r\n      //rotate the matrix 90 deg\r\n      if (!this.new_tetris_item.is_rotatable) return original_matrix\r\n      let matrix = original_matrix.reverse()\r\n      let new_matrix = []\r\n      const rows = matrix.length\r\n\r\n      matrix[0].forEach((arr, col_index) => {\r\n        let matrix_row = []\r\n        for (let index = 0; index < rows; index++) {\r\n          matrix_row.push(matrix[index][col_index])\r\n        }\r\n        new_matrix.push(matrix_row)\r\n      })\r\n      return new_matrix\r\n    },\r\n\r\n    clear_matrix(matrix) {\r\n      //remove first and/or last row if is full of 0\r\n      matrix = this.clear_horizontally([...matrix])\r\n      matrix = this.clear_vertically([...matrix])\r\n      return matrix\r\n    },\r\n\r\n    clear_vertically(matrix) {\r\n      if (matrix.every(row => !row[0])) {\r\n        matrix = matrix.map(row => row.slice(1))\r\n      }\r\n      if (matrix.every(row => !row[matrix[0].length - 1])) {\r\n        matrix = matrix.map(row => row.slice(0, -1))\r\n      }\r\n      return matrix\r\n    },\r\n\r\n    clear_horizontally(matrix) {\r\n      if (matrix[0].every(item => !item)) matrix.splice(0, 1)\r\n      if (matrix[matrix.length - 1].every(item => !item))\r\n        matrix.splice(matrix.length - 1, 1)\r\n      return matrix\r\n    },\r\n\r\n    tetris_rotated(matrix) {\r\n      if (!this.new_tetris_item.is_rotatable) return\r\n      if (this.tetris_before_rotation) {\r\n        this.tetris_before_rotation = null\r\n        return\r\n      }\r\n      let starts = this.new_tetris_item.starts\r\n      let c_matrix = [...matrix] // c_matrix => copy matrix\r\n      const expands = c_matrix[0].length\r\n      let rotated_tetris = []\r\n      if (starts + expands > 9) {\r\n        starts -= starts + expands - 9\r\n      }\r\n\r\n      c_matrix = this.clear_matrix([...c_matrix])\r\n\r\n      for (let row = 0; row < c_matrix.length; row++) {\r\n        let new_row = []\r\n        for (let index = 0; index <= 6; index++) {\r\n          if (index === starts) {\r\n            new_row.push(...c_matrix[row])\r\n            if (c_matrix[row].length < 3) {\r\n              const times = 3 - c_matrix[row].length\r\n              for (let index = 0; index < times; index++) {\r\n                new_row.push(0)\r\n              }\r\n            }\r\n          } else {\r\n            new_row.push(0)\r\n          }\r\n        }\r\n        rotated_tetris.push(new_row)\r\n      }\r\n      this.tetris_before_rotation = { ...this.new_tetris_item }\r\n      this.new_tetris_item.matrix = matrix\r\n      this.new_tetris_item.rotated = true\r\n      this.new_tetris_item.starts = starts\r\n      this.new_tetris_item.expands = c_matrix[0].length\r\n      this.new_tetris_item.value = rotated_tetris\r\n      this.new_tetris_item.rows_count = rotated_tetris.length\r\n      this.new_tetris_position--\r\n      this.game_flow()\r\n    },\r\n\r\n    change_tetris_position(pos) {\r\n      //pos => position can be -1 or 1\r\n      let new_pos = this.new_tetris_item.starts + pos // new_pos => new position\r\n      let tetris = [...this.new_tetris_item.value]\r\n\r\n      if (!this.can_move_tetris(pos)) return //tetris can't go more left or right\r\n\r\n      let new_tetris = tetris.map(row => {\r\n        if (pos < 0) {\r\n          let new_row = row.slice(1)\r\n          new_row.push(0)\r\n          return new_row\r\n        } else {\r\n          let new_row = row.slice(0, -1)\r\n          new_row.unshift(0)\r\n          return new_row\r\n        }\r\n      })\r\n\r\n      this.new_tetris_item.starts = new_pos\r\n      this.new_tetris_item.value = new_tetris\r\n      this.new_tetris_position--\r\n      this.game_flow()\r\n    },\r\n\r\n    get_arena_rows(cursor, t_rows) {\r\n      let a_rows = []\r\n      for (let i = cursor, j = t_rows.length - 1; j >= 0 && i >= 0; i--, j--) {\r\n        a_rows.push([...this.arena[i]])\r\n      }\r\n      return a_rows.reverse()\r\n    },\r\n\r\n    tetris_reached_bounds(rows, dir) {\r\n      // :Boolean\r\n      if (dir > 0) {\r\n        return rows.some(row => row[rows[0].length - 1] !== 0)\r\n      }\r\n      return rows.some(row => row[0] !== 0)\r\n    },\r\n\r\n    check_bounds_and_position(dir) {\r\n      if (this.tetris_reached_bounds(this.new_tetris_item.value, dir))\r\n        return false //tetris cannot be moved outside of bounds\r\n      return this.new_tetris_position !== 0\r\n    },\r\n\r\n    can_move_tetris(dir) {\r\n      //dir => direction can be 1 (right) or -1 (left)\r\n      if (!this.check_bounds_and_position(dir)) return false\r\n      const cursor = this.new_tetris_position - 1\r\n      const t_rows = _cloneDeep(this.new_tetris_item.value) //tetris rows\r\n      const a_rows = this.get_arena_rows(cursor, t_rows) //arena rows\r\n\r\n      if (dir > 0) {\r\n        //tetris moved right\r\n        return a_rows.every((row, index) => {\r\n          const ends =\r\n            t_rows[index].length -\r\n            1 -\r\n            t_rows[index]\r\n              .slice()\r\n              .reverse()\r\n              .findIndex(row => row !== 0)\r\n          return row[ends + 1] === 0\r\n        })\r\n      }\r\n      return a_rows.every((row, index) => {\r\n        const starts = t_rows[index].findIndex(row => row !== 0)\r\n        return row[starts - 1] === 0\r\n      }) //tetris moved left\r\n    },\r\n\r\n    async check_for_score(arena) {\r\n      let indexes = []\r\n      let c_arena = [...arena].reverse()\r\n\r\n      c_arena.forEach((row, index) => {\r\n        if (row.every(item => item >= 1)) {\r\n          this.total_score += this.score_for_row * (index + 1)\r\n        }\r\n      })\r\n\r\n      arena.forEach((row, index) => {\r\n        if (row.every(item => item >= 1)) indexes.push(index)\r\n      })\r\n\r\n      if (indexes.length) {\r\n        this.animating = true\r\n        await this.calculate_row_animation(indexes)\r\n        this.animating = false\r\n      }\r\n    },\r\n\r\n    calculate_row_animation(indexes) {\r\n      return new Promise(resolve => {\r\n        indexes.forEach(async (item, index) => {\r\n          let rows = document.querySelectorAll('.tetris-row')\r\n          rows[item].classList.add('to-clear')\r\n          await this.animate_row(rows, item)\r\n          if (index + 1 >= indexes.length) resolve(true)\r\n        })\r\n      })\r\n    },\r\n\r\n    animate_row(rows, index) {\r\n      return new Promise(resolve => {\r\n        setTimeout(() => {\r\n          rows[index].classList.remove('to-clear')\r\n          this.arena.splice(index, 1)\r\n          this.arena.unshift([0, 0, 0, 0, 0, 0, 0, 0, 0])\r\n          resolve(true)\r\n        }, 400)\r\n      })\r\n    }\r\n  }\r\n}\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/eslint-loader/index.js??ref--13-0!./Tetris.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/eslint-loader/index.js??ref--13-0!./Tetris.js?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Tetris.vue?vue&type=template&id=6d4ff930&scoped=true&\"\nimport script from \"./Tetris.js?vue&type=script&lang=js&\"\nexport * from \"./Tetris.js?vue&type=script&lang=js&\"\nimport style0 from \"./Tetris.scss?vue&type=style&index=0&id=6d4ff930&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6d4ff930\",\n  null\n  \n)\n\ncomponent.options.__file = \"Tetris.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-snackbar',{attrs:{\"timeout\":3000,\"color\":\"green\"},model:{value:(_vm.snackbar),callback:function ($$v) {_vm.snackbar=$$v},expression:\"snackbar\"}},[_c('v-icon',{attrs:{\"color\":\"white\"}},[_vm._v(\"mdi-check\")]),_vm._v(\"\\n\\t\"+_vm._s(_vm.text)+\"\\n\\t\"),_c('v-btn',{attrs:{\"color\":\"white\",\"flat\":\"\"},on:{\"click\":function($event){_vm.snackbar = false}}},[_vm._v(\"\\n\\t\\tClose\\n\\t\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<v-snackbar\r\n\t\t\tv-model=\"snackbar\"\r\n\t\t\t:timeout=\"3000\"\r\n\t\t\tcolor=\"green\"\r\n\t>\r\n\t\t<v-icon color=\"white\">mdi-check</v-icon>\r\n\t\t{{ text }}\r\n\t\t<v-btn\r\n\t\t\t\tcolor=\"white\"\r\n\t\t\t\tflat\r\n\t\t\t\t@click=\"snackbar = false\"\r\n\t\t>\r\n\t\t\tClose\r\n\t\t</v-btn>\r\n\t</v-snackbar>\r\n</template>\r\n\r\n<script>\r\nimport { event } from '@/plugins/event'\r\n\r\nexport default {\r\n  data: () => ({\r\n    snackbar: false,\r\n    text: 'Default Text'\r\n  }),\r\n\r\n  created() {\r\n    event.$on('snackbar', text => {\r\n      this.text = text\r\n      this.snackbar = true\r\n    })\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SnackBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SnackBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SnackBar.vue?vue&type=template&id=d1c23144&\"\nimport script from \"./SnackBar.vue?vue&type=script&lang=js&\"\nexport * from \"./SnackBar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"SnackBar.vue\"\nexport default component.exports","<template>\r\n  <v-app>\r\n    <tetris/>\r\n    <snack-bar />\r\n  </v-app>\r\n</template>\r\n\r\n<script>\r\nimport Tetris from '@/components/Tetris/Tetris.vue'\r\nimport SnackBar from '@/components/SnackBar/SnackBar.vue'\r\n\r\nexport default {\r\n  name: 'app',\r\n  components: {\r\n    Tetris,\r\n    SnackBar\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=e269a7dc&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"App.vue\"\nexport default component.exports","import '@babel/polyfill'\r\nimport Vue from 'vue'\r\nimport './plugins/vuetify'\r\nimport App from './App.vue'\r\n\r\nVue.config.productionTip = false\r\n\r\nnew Vue({\r\n  render: h => h(App)\r\n}).$mount('#app')\r\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!./Tetris.scss?vue&type=style&index=0&id=6d4ff930&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!./Tetris.scss?vue&type=style&index=0&id=6d4ff930&lang=scss&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopUsers.vue?vue&type=style&index=0&id=340efc42&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopUsers.vue?vue&type=style&index=0&id=340efc42&lang=scss&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlayInfo.vue?vue&type=style&index=0&id=e3808010&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlayInfo.vue?vue&type=style&index=0&id=e3808010&scoped=true&lang=css&\""],"sourceRoot":""}